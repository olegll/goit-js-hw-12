{"version":3,"file":"index.js","sources":["../src/js/render-function.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryCard = imgInfo => {\n    return `\n      <li class=\"gallery-card\">\n          <a class=\"img-link\" href=\"${imgInfo.largeImageURL}\">\n          <img class=\"gallery-img\" src=\"${imgInfo.webformatURL}\" alt=\"${imgInfo.tags}\"/>\n          </a>\n          <ul class=\"gallery-data-img\">\n          <li class=\"img-data\">Likes: <span class=\"api-data\">${imgInfo.likes}</span></li>\n          <li class=\"img-data\">Views: <span class=\"api-data\">${imgInfo.views}</span></li>\n          <li class=\"img-data\">Comments: <span class=\"api-data\">${imgInfo.comments}</span></li>\n          <li class=\"img-data\">Downloads: <span class=\"api-data\">${imgInfo.downloads}</span></li>\n          </ul>\n      </li>`;\n  };","export const fetchPhotoByQuery = searchQuery => {\n  const searchParams = new URLSearchParams({\n    key: '48275736-0f4ea71af3074d68213ba754e',\n    q: searchQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 12,\n  });\n\n  return fetch(`https://pixabay.com/api/?${searchParams}`)\n  .then(\n    response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    }\n  );\n};\n","// fetch('https://pixabay.com/api/?key=48275736-0f4ea71af3074d68213ba754e&q=yellow+flowers&image_type=photo')\n\nimport iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport { createGalleryCard } from './js/render-function';\nimport { fetchPhotoByQuery } from './js/pixabay-api';\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loaderEl = document.querySelector('.loader');\n\nconst showLoader = () => {\n  loaderEl.classList.remove('is-hidden');\n};\n\nconst hideLoader = () => {\n  loaderEl.classList.add('is-hidden');\n};\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n\n  const searchQuery = event.currentTarget.elements.query.value.trim();\n\n  if (searchQuery === '') {\n    iziToast.warning({\n      message: 'The search query cannot be empty. Please enter a keyword!',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  showLoader();\n\n  fetchPhotoByQuery(searchQuery)\n    .then(data => {\n      if (data.total === 0) {\n        iziToast.warning({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n\n        galleryEl.innerHTML = '';\n\n        searchFormEl.reset();\n\n        return;\n      }\n\n      const galleryTemplate = data.hits\n        .map(el => createGalleryCard(el))\n        .join('');\n\n      galleryEl.innerHTML = galleryTemplate;\n\n      searchFormEl.reset();\n      const lightBox = new SimpleLightbox('.js-gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n      lightBox.refresh();\n    })\n    .catch(err => {\n      iziToast.error({\n        message:\n          'An error occurred while fetching images. Please try again later.',\n        position: 'topRight',\n      });\n    })\n\n    .finally(() => {\n      hideLoader();\n    });\n};\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["createGalleryCard","imgInfo","fetchPhotoByQuery","searchQuery","searchParams","response","searchFormEl","galleryEl","loaderEl","showLoader","hideLoader","onSearchFormSubmit","event","iziToast","data","galleryTemplate","el","SimpleLightbox","err"],"mappings":"iyBAAO,MAAMA,EAAoBC,GACtB;AAAA;AAAA,sCAE2BA,EAAQ,aAAa;AAAA,0CACjBA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA,+DAGrBA,EAAQ,KAAK;AAAA,+DACbA,EAAQ,KAAK;AAAA,kEACVA,EAAQ,QAAQ;AAAA,mEACfA,EAAQ,SAAS;AAAA;AAAA,aCVvEC,EAAoBC,GAAe,CAC9C,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACd,CAAG,EAED,OAAO,MAAM,4BAA4BC,CAAY,EAAE,EACtD,KACCC,GAAY,CACV,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACjB,CACL,CACA,ECZMC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAW,SAAS,cAAc,SAAS,EAE3CC,EAAa,IAAM,CACvBD,EAAS,UAAU,OAAO,WAAW,CACvC,EAEME,EAAa,IAAM,CACvBF,EAAS,UAAU,IAAI,WAAW,CACpC,EAEMG,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EAEpB,MAAMT,EAAcS,EAAM,cAAc,SAAS,MAAM,MAAM,OAE7D,GAAIT,IAAgB,GAAI,CACtBU,EAAS,QAAQ,CACf,QAAS,4DACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDJ,IAEAP,EAAkBC,CAAW,EAC1B,KAAKW,GAAQ,CACZ,GAAIA,EAAK,QAAU,EAAG,CACpBD,EAAS,QAAQ,CACf,QACE,2EACF,SAAU,UACpB,CAAS,EAEDN,EAAU,UAAY,GAEtBD,EAAa,MAAK,EAElB,MACD,CAED,MAAMS,EAAkBD,EAAK,KAC1B,IAAIE,GAAMhB,EAAkBgB,CAAE,CAAC,EAC/B,KAAK,EAAE,EAEVT,EAAU,UAAYQ,EAEtBT,EAAa,MAAK,EACD,IAAIW,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,GACtB,CAAO,EACQ,QAAO,CACtB,CAAK,EACA,MAAMC,GAAO,CACZL,EAAS,MAAM,CACb,QACE,mEACF,SAAU,UAClB,CAAO,CACP,CAAK,EAEA,QAAQ,IAAM,CACbH,GACN,CAAK,CACL,EAEAJ,EAAa,iBAAiB,SAAUK,CAAkB"}